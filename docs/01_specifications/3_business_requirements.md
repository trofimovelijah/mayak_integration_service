# 3 Спецификация требований

## 3.1 Бизнес-правила

| ID | Бизнес-правило | Описание | Тип правила | Статическое или динамическое |
| ----- | ----- | ----- | ----- | ----- |
| БП-001  | Отправка писем при изменении статуса Событий | При создании и последующем изменении статуса События на Платформе Пользователям и Благотворителям, отправившим Пожертвование | Вычисление | Статическое |
| БП-002 | Отправка писем по действиям с рекуррентными платежами | Ряд действий, связанных с рекуррентными платежами, должны сопровождаться письмом благодарности | Вычисление | Статическое |
| БП-003 | Действия Пользователя логируются | Фиксация служебных сообщений взаимодействия Пользователя с Платформой | Ограничение | Статическое |
| БП-004 | Соблюдение политики конфиденциальности | Соблюдение в рамках политики конфиденциальности прав Пользователей в рамках 152-ФЗ “О персональных данных” от 27.07.2006. | Вычисление | Статическое |
| БП-005 | Валидация email адресов | Все email адреса должны проходить валидацию по RFC 5322 перед отправкой | Вычисление | Статическое |
| БП-006 | Дедупликация писем | Не отправлять одинаковые письма одному получателю в течение 24 часов | Ограничение | Статическое |
| БП-007 | Retry логика | При ошибках действий API повторять попытки с экспоненциальной задержкой | Вычисление | Статическое |
| БП-008 | Обработка лимитов API | Соблюдать лимиты внешних API и обрабатывать 429 ошибки | Ограничение | Статическое |
| БП-009 | Персонализация по сумме пожертвования | Использовать разные шаблоны в зависимости от суммы | Вычисление | Статическое |
| БП-010 | Подтверждение крупных пожертвований | Пожертвования ≥50000₽ требуют дополнительных проверок | Ограничение | Динамическое |
| БП-011 | Обработка рекуррентных неудач | Особая логика для неуспешных регулярных платежей | Вычисление | Статическое |
| БП-012 | Архивирование логов | Регулярная очистка старых логов для экономии места | Вычисление | Статическое |

## 3.2 Бизнес-ограничения

| ID требования | Бизнес-правило | Описание |
| ----- | ----- | ----- |
| БО-1  | Использование сервера Яндекс.Облако | Использование выделенного сервера на внешнем хостинге Яндекс.Облако для разработки на Python |
| БО-2 | Код Платформы не должен быть модифицируем  | Интеграция без модификации исходного кода Платформы "Давайте соберемся" [https://join.mayak.help/](https://join.mayak.help/)  |
| БО-3 | Соблюдение утвержденных шаблонов коммуникации фонда | Соблюдение утвержденных шаблонов коммуникации Фонда |
| БО-4 | Соответствие корпоративному стилю и тону коммуникаций Фонда | Соответствие корпоративному стилю и тону коммуникаций Фонда |
