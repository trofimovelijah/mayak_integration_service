Требование,Действие,От кого,Соединение (API),Куда,Передаваемые параметры,Ссылка на документацию
ФТ-022,Регистрация пользователя и отправка письма благодарности,Битрикс,POST /emails/send,Сервис интеграции,"email(адрес электронной почты регистрируемого пользователя),name(имя пользователя),agree_newsletter(флаг согласия на рассылку),registration_date(дата регистрации)",
ФТ-022,Добавление email в рассылку (если согласие получено),Сервис интеграции,POST /api/subscribers,Unisender,"email(адрес для подписки),list_id(идентификатор списка рассылки),source(источник: 'registration'),timestamp(время подписки)",https://www.unisender.com/ru/support/api/contact/importcontacts/
ФТ-022,Отправка письма благодарности за регистрацию,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-022'(идентификатор шаблона письма),recipient_email(адрес получателя письма),vars={name}(переменные для подстановки в письмо)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-021,Напоминание создать Событие через 7 дней,Битрикс,POST /emails/send,Сервис интеграции,"user_id(уникальный идентификатор пользователя),email(адрес пользователя),registration_date(дата регистрации для расчета 7-дневного периода),event_exists(был ли создан event)",
ФТ-021,Отправка письма с предложением создать Событие,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-021'(идентификатор шаблона),recipient_email(адрес получателя),vars={user_name}(имя пользователя)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-024,Создание События и отправка его на модерацию,Битрикс,POST /events/moderation-notice,Сервис интеграции,"event_id(уникальный идентификатор события),event_name(название события),event_creator_email(email создателя события),event_description(описание события),images_count(количество изображений),target_amount(целевая сумма сбора)",
ФТ-024,Отправка письма о событии на модерацию,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-024'(идентификатор шаблона),recipient_email(email создателя события),vars={event_name, event_id}(название события и его ID)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-025,Одобрение События администратором,Администратор,POST /events/{event_id}/approve,Сервис интеграции,"event_id(идентификатор события для одобрения),admin_id(идентификатор администратора),comment(комментарий администратора)",
ФТ-025,Обновление статуса события в Битриксе (одобрено),Сервис интеграции,Webhook:event.approved,Битрикс,"event_id(идентификатор события),status='published'(новый статус),updated_at(время обновления),approved_by(ID администратора)",
ФТ-025,Отправка письма об одобрении События,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-025'(идентификатор шаблона одобрения),recipient_email(email создателя события),vars={event_name, event_url}(название события и ссылка на него)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-026,Отклонение События администратором,Администратор,POST /events/{event_id}/reject,Сервис интеграции,"event_id(идентификатор события для отклонения),admin_id(идентификатор администратора),rejection_reason(основная причина отклонения),comment(детальный комментарий администратора)",
ФТ-026,Обновление статуса события в Битриксе (отклонено),Сервис интеграции,Webhook:event.rejected,Битрикс,"event_id(идентификатор события),status='rejected'(новый статус),reason(причина отклонения),comment(комментарий администратора),rejected_at(время отклонения)",
ФТ-026,Отправка письма об отклонении События,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-026'(идентификатор шаблона отклонения),recipient_email(email создателя события),vars={event_name, rejection_reason, comment}(название события, причина и комментарий)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-003,Завершение События и отправка письма создателю,Битрикс,POST /events/closed,Сервис интеграции,"event_id(идентификатор завершенного события),total_amount(итоговая сумма собранная за событие),event_creator_email(email создателя события),event_name(название события),closed_at(дата завершения)",
ФТ-003,Отправка письма об окончании сбора создателю события,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-003'(идентификатор шаблона),recipient_email(email создателя события),vars={total_amount, event_name}(сумма и название события)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-006,Отправка письма об окончании сбора всем благотворителям,Сервис интеграции,POST /email/send,UnisenderGo,"template='FT-006'(шаблон письма),list_id(ID списка благотворителей для данного события),vars={total_amount, event_name}(сумма и название события),body(HTML-тело письма),subject(тема)",https://www.unisender.com/ru/support/api/messages/createemailmessage/
ФТ-027,Отправка письма об окончании сбора с нулевой суммой,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-027'(идентификатор шаблона нулевого сбора),recipient_email(email создателя события),vars={event_name}(название события)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-023,Напоминание за 2 недели до дня рождения,Битрикс,POST /emails/send,Сервис интеграции,"user_id(идентификатор пользователя),email(адрес пользователя),birth_date(дата рождения пользователя),user_name(имя пользователя)",
ФТ-023,Отправка письма с предложением создать Событие к дню рождения,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-023'(идентификатор шаблона дня рождения),recipient_email(email пользователя),vars={user_name, birth_date}(имя пользователя и дата рождения)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-005/007/008,Инициирование платежа (пожертвование),Битрикс,POST /donations/process,Сервис интеграции,"donor_email(адрес благотворителя),amount(сумма пожертвования в рублях),event_id(идентификатор события),agree_newsletter(согласие на рассылку),currency='RUB'(валюта)",
ФТ-005/007/008,Добавление email в рассылку при пожертвовании (если согласие),Сервис интеграции,POST /api/subscribers,Unisender,"email(адрес благотворителя для подписки),list_id(ID списка рассылки),source='donation'(источник подписки),timestamp(время подписки)",https://www.unisender.com/ru/support/api/contact/importcontacts/
ФТ-005/007/008,Инициирование платежа в платежной системе,Сервис интеграции,POST /payments,CloudPayments,"Amount(сумма платежа в копейках: amount*100),Currency='RUB'(валюта),Email(email платильщика),Description(описание платежа),ReturnUrl(URL при успехе),FailUrl(URL при отказе)",https://cloudpayments.ru/docs/api/
ФТ-005/007/008,Получение результата платежа (webhook успешного платежа),CloudPayments,Webhook,Сервис интеграции,"TransactionId(ID транзакции в CP),Amount(сумма платежа),Currency(валюта: 'RUB'),Email(email платильщика),Status='Completed'(статус успешного платежа),data(дополнительные данные)",https://cloudpayments.ru/docs/api-notification/
ФТ-005/007/008,Определение типа письма и отправка письма благодарности,Сервис интеграции,POST /email/send,UnisenderGo,"template_id(FT-005 для обычного, FT-007 для первого, FT-008 для крупного >= 50k),recipient_email(email благотворителя),vars={amount, event_name, is_first_donation}(сумма, событие, флаг первого пожертвования)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-010,Получение результата платежа (webhook ошибки платежа),CloudPayments,Webhook,Сервис интеграции,"TransactionId(ID транзакции),Amount(сумма платежа),Currency(валюта),Email(email платильщика),Reason(причина отказа),Status='Declined'(статус отказа)",https://cloudpayments.ru/docs/api-notification/
ФТ-010,Отправка письма об ошибке платежа,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-010'(шаблон письма об ошибке),recipient_email(email благотворителя),vars={failure_reason, retry_link}(причина отказа и ссылка для повтора)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-009,Оформление рекуррентной подписки,Битрикс,POST /subscriptions/create,Сервис интеграции,"donor_email(email благотворителя),amount(ежемесячная сумма в рублях),frequency(периодичность: 'monthly', 'quarterly', etc.),agree_newsletter(согласие на рассылку),event_id(событие для подписки)",
ФТ-009,Добавление email в рассылку при подписке (если согласие),Сервис интеграции,POST /api/subscribers,Unisender,"email(адрес благотворителя для подписки),list_id(ID списка рассылки),source='subscription'(источник подписки),timestamp(время подписки)",https://www.unisender.com/ru/support/api/contact/importcontacts/
ФТ-009,Создание подписки в платежной системе,Сервис интеграции,POST /subscriptions,CloudPayments,"Amount(сумма платежа в копейках: amount*100),Currency='RUB'(валюта),Email(email плательщика),Interval='Monthly'(интервал подписки: 'Monthly', 'Quarterly', etc.),Notification={}(параметры уведомлений),Description(описание подписки)",https://cloudpayments.ru/docs/api/
ФТ-009,Отправка письма с деталями подписки,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-009'(шаблон письма о подписке),recipient_email(email благотворителя),vars={amount, frequency, manage_link}(сумма, периодичность, ссылка управления)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-005/012,Ежемесячное списание (webhook о результате),CloudPayments,Webhook,Сервис интеграции,"SubscriptionId(ID подписки в CP),Amount(сумма списания в копейках),Currency(валюта: 'RUB'),Email(email плательщика),Status='Completed'(статус успешного списания),TransactionId(ID транзакции),data(доп. данные)",https://cloudpayments.ru/docs/api-notification/
ФТ-005/012,Отправка письма благодарности за ежемесячное списание или за год поддержки,Сервис интеграции,POST /email/send,UnisenderGo,"template_id(FT-005 обычное, FT-012 для 12-го платежа),recipient_email(email благотворителя),vars={amount, next_charge_date, yearly_stats}(сумма, дата след. списания, статистика за год)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-010,Ежемесячное списание неудачное (webhook об ошибке),CloudPayments,Webhook,Сервис интеграции,"SubscriptionId(ID подписки),Amount(сумма списания),Currency(валюта),Email(email плательщика),Status='Declined'/'Error'(статус отказа),Reason(причина ошибки),data(доп. данные)",https://cloudpayments.ru/docs/api-notification/
ФТ-010/011,Отправка письма об ошибке рекуррентного платежа (1-3 попытка) или об отмене (4-я попытка),Сервис интеграции,POST /email/send,UnisenderGo,"template_id(FT-010 для 1-3 попытки, FT-011 для отмены),recipient_email(email благотворителя),vars={failure_reason, next_retry_date, attempt_number, manage_link}(причина, дата повтора, номер попытки, ссылка управления)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-011,Отмена подписки из-за 4-х неудачных платежей,Сервис интеграции,POST /email/send,CloudPayments,SubscriptionId(ID подписки для отмены),https://cloudpayments.ru/docs/api/
ФТ-011,Ручная отмена подписки пользователем,Благотворитель,POST /subscriptions/{subscription_id}/cancel,Сервис интеграции,"subscription_id(ID подписки для отмены),donor_email(email благотворителя),reason='user_requested'(причина отмены: 'user_requested' или 'failed_after_4_retries')",
ФТ-011,Отмена подписки в платежной системе,Сервис интеграции,DELETE /subscriptions/{subscription_id},CloudPayments,SubscriptionId(ID подписки в CloudPayments для отмены),https://cloudpayments.ru/docs/api/
ФТ-011,Отправка прощального письма об отмене подписки,Сервис интеграции,POST /email/send,UnisenderGo,"template_id='FT-011'(шаблон прощального письма),recipient_email(email благотворителя),vars={cancellation_date, reactivate_link}(дата отмены, ссылка для возобновления)",https://godocs.unisender.ru/web-api-ref#email-send
ФТ-025,Получение списка Событий на модерацию,Администратор,GET /events?status=pending_moderation,Сервис интеграции,"status='pending_moderation',page,limit",
ФТ-025,Получение деталей События,Администратор,GET /events/{event_id},Сервис интеграции,event_id,
ФТ-018,Редактирование шаблона письма,Администратор,PUT /templates/{template_id},Сервис интеграции,"template_id,subject,body_html,body_text,variables",
ФТ-018,Получение списка шаблонов,Администратор,GET /templates,Сервис интеграции,"page,limit,search_query",
ФТ-018,Получение деталей шаблона,Администратор,GET /templates/{template_id},Сервис интеграции,template_id,
ФТ-019,Список неотправленных писем,Администратор,GET /retry/list,Сервис интеграции,"status='failed',date_from,date_to,email_type,page,limit",
ФТ-019,Переотправка выбранных писем,Администратор,POST /retry/send,Сервис интеграции,"email_ids[],template_ids[]",
ФТ-013-017,Просмотр статистики коммуникаций (),Администратор,GET /statistics/summary,Сервис интеграции,"date_from,date_to,email_type,groupBy",
НФТ-5.1,Экспорт статистики в CSV,Администратор,GET /statistics/export/csv,Сервис интеграции,"date_from,date_to,email_type,format='csv'",
НФТ-5.2,Получение статуса сервисов и подсистем (мониторинг),Администратор,GET /monitoring/services,Сервис интеграции,service_name,
НФТ-5.2,Получение статуса очередей (мониторинг),Администратор,GET /monitoring/queues,Сервис интеграции,-,
НФТ-5.2,Получение alerts (мониторинг),Администратор,GET /monitoring/alerts,Сервис интеграции,"severity,limit",
НФТ-5.1,Просмотр логов системы,Администратор,GET /logs,Сервис интеграции,"date_from,date_to,level,component,search_text,page,limit",
НФТ-5.1,Экспорт логов в CSV,Администратор,GET /logs/export/csv,Сервис интеграции,"date_from,date_to,level,component,format='csv'",
